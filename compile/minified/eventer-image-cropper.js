/*! Eventer Image Cropper v0.0.1 License: MIT */!function(){"use strict";angular.module("eventerImageCropper",["ngImgCrop"]).directive("eImageCropper",function(){return{restrict:"E",scope:{resultImage:"=",typeCropper:"@",templateUrl:"=",cropSize:"="},templateUrl:function(e,t){return t.templateUrl},controller:["$scope",function(e){var t={w:200,h:200};e.type_cropper=e.typeCropper?e.typeCropper:"square","rectangle"==e.type_cropper&&(t=[{w:200,h:200},{w:200,h:200}]),e.crop_size=e.cropSize?e.cropSize:t,e.data_image="",e.result_data_image="",e.res_blob={},e.url_blob={},e.image_format="image/png",e.image_quality=1,e.min_size=100;var a=function(t){var a=t.currentTarget.files[0],r=new FileReader;if(navigator.userAgent.match(/iP(hone|od|ad)/i)){var i=document.createElement("canvas"),n=new MegaPixImage(a);i.width=n.srcImage.width,i.height=n.srcImage.height,EXIF.getData(a,function(){var t=EXIF.getTag(this,"Orientation");n.render(i,{maxHeight:e.resImgSize,orientation:t}),setTimeout(function(){var t=i.toDataURL("image/jpeg",1);e.$apply(function(e){e.imageDataURI=t})},100)})}else r.onload=function(t){e.$apply(function(e){e.imageDataURI=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInputImage")).on("change",a),e.$watch("result_data_image",function(){""!=e.result_data_image&&(e.resultImage=e.result_data_image)})}]}})}();